{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"C:/MAMP/htdocs/LeJeudePiste/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/MAMP/htdocs/LeJeudePiste/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/MAMP/htdocs/LeJeudePiste/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/MAMP/htdocs/LeJeudePiste/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import\"../../css/Components/compass.css\";import Footer from'./Footer';import Header from'./Header';var Compass=/*#__PURE__*/function(_React$Component){_inherits(Compass,_React$Component);var _super=_createSuper(Compass);function Compass(props){var _this;_classCallCheck(this,Compass);_this=_super.call(this,props);_this.state={lat:0,long:0,direction:0,oldDirection:0,orientation:0};return _this;}_createClass(Compass,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;navigator.geolocation.watchPosition(function(position){_this2.setState({oldDirection:_this2.state.direction});if(position.coords.heading==null){_this2.setState({direction:0});}else{_this2.setState({direction:position.coords.heading});}_this2.setState({lat:position.coords.latitude,long:position.coords.longitude});console.log(_this2.state);});window.addEventListener(\"deviceorientation\",function(e){_this2.setState({orientation:360-e.alpha});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{id:\"compass\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{id:\"roundBack\",children:[/*#__PURE__*/_jsx(\"img\",{style:{transform:\"rotate(\"+this.state.orientation+\"deg)\"},id:\"aiguille\",src:\"img\\\\Aiguille.png\",alt:\"aiguille\"}),/*#__PURE__*/_jsx(\"img\",{id:\"logoCompass\",src:\"img\\\\Boussole.png\",alt:\"logo\"})]}),/*#__PURE__*/_jsx(\"div\",{id:\"buttonBlock\",onClick:this.props.handleEnigma,children:/*#__PURE__*/_jsx(\"div\",{id:\"greenButton\",children:/*#__PURE__*/_jsx(\"p\",{id:\"buttonTxt\",children:\"Prochaine \\xE9nigme !\"})})}),/*#__PURE__*/_jsxs(\"div\",{id:\"coord\",children:[this.state.lat,\" & \",this.state.long,\" & \",this.state.direction]}),/*#__PURE__*/_jsx(\"div\",{id:\"coord\",children:this.state.orientation}),/*#__PURE__*/_jsx(Footer,{})]});}}]);return Compass;}(React.Component);export default Compass;","map":{"version":3,"sources":["C:/MAMP/htdocs/LeJeudePiste/src/js/Components/Compass.js"],"names":["React","Footer","Header","Compass","props","state","lat","long","direction","oldDirection","orientation","navigator","geolocation","watchPosition","position","setState","coords","heading","latitude","longitude","console","log","window","addEventListener","e","alpha","transform","handleEnigma","Component"],"mappings":"gpBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,kCAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,C,GAEOC,CAAAA,O,8GAEH,iBAAYC,KAAZ,CAAkB,yCACd,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAW,CACTC,GAAG,CAAC,CADK,CAETC,IAAI,CAAC,CAFI,CAGTC,SAAS,CAAC,CAHD,CAITC,YAAY,CAAC,CAJJ,CAKTC,WAAW,CAAC,CALH,CAAX,CAFc,aASjB,C,iFAEkB,iBACjBC,SAAS,CAACC,WAAV,CAAsBC,aAAtB,CAAoC,SAACC,QAAD,CAAY,CAC9C,MAAI,CAACC,QAAL,CAAc,CAACN,YAAY,CAAC,MAAI,CAACJ,KAAL,CAAWG,SAAzB,CAAd,EACA,GAAIM,QAAQ,CAACE,MAAT,CAAgBC,OAAhB,EAA2B,IAA/B,CAAoC,CAClC,MAAI,CAACF,QAAL,CAAc,CAACP,SAAS,CAAC,CAAX,CAAd,EACD,CAFD,IAEO,CACL,MAAI,CAACO,QAAL,CAAc,CAACP,SAAS,CAACM,QAAQ,CAACE,MAAT,CAAgBC,OAA3B,CAAd,EACD,CACD,MAAI,CAACF,QAAL,CAAc,CAACT,GAAG,CAACQ,QAAQ,CAACE,MAAT,CAAgBE,QAArB,CAA8BX,IAAI,CAACO,QAAQ,CAACE,MAAT,CAAgBG,SAAnD,CAAd,EACAC,OAAO,CAACC,GAAR,CAAY,MAAI,CAAChB,KAAjB,EAED,CAVD,EAWAiB,MAAM,CAACC,gBAAP,CAAwB,mBAAxB,CAA4C,SAACC,CAAD,CAAK,CAC/C,MAAI,CAACT,QAAL,CAAc,CAACL,WAAW,CAAC,IAAIc,CAAC,CAACC,KAAnB,CAAd,EACD,CAFD,EAGD,C,uCAIQ,CACP,mBACE,aAAK,EAAE,CAAC,SAAR,wBACI,KAAC,MAAD,IADJ,cAEQ,aAAK,EAAE,CAAC,WAAR,wBACE,YAAK,KAAK,CAAE,CAACC,SAAS,CAAC,UAAU,KAAKrB,KAAL,CAAWK,WAArB,CAAmC,MAA9C,CAAZ,CAAmE,EAAE,CAAC,UAAtE,CAAiF,GAAG,CAAC,mBAArF,CAAwG,GAAG,CAAC,UAA5G,EADF,cAEE,YAAK,EAAE,CAAC,aAAR,CAAsB,GAAG,CAAC,mBAA1B,CAA6C,GAAG,CAAC,MAAjD,EAFF,GAFR,cAMQ,YAAK,EAAE,CAAC,aAAR,CAAsB,OAAO,CAAE,KAAKN,KAAL,CAAWuB,YAA1C,uBACI,YAAK,EAAE,CAAC,aAAR,uBACI,UAAG,EAAE,CAAC,WAAN,mCADJ,EADJ,EANR,cAWQ,aAAK,EAAE,CAAC,OAAR,WACK,KAAKtB,KAAL,CAAWC,GADhB,OACwB,KAAKD,KAAL,CAAWE,IADnC,OAC4C,KAAKF,KAAL,CAAWG,SADvD,GAXR,cAcQ,YAAK,EAAE,CAAC,OAAR,UACG,KAAKH,KAAL,CAAWK,WADd,EAdR,cAiBI,KAAC,MAAD,IAjBJ,GADF,CAqBD,C,qBAtDkBV,KAAK,CAAC4B,S,EAyD3B,cAAezB,CAAAA,OAAf","sourcesContent":["import React from 'react';\r\nimport \"../../css/Components/compass.css\"\r\nimport Footer from './Footer';\r\nimport Header from './Header';\r\n\r\n class Compass extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n          lat:0,\r\n          long:0,\r\n          direction:0,\r\n          oldDirection:0,\r\n          orientation:0\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n      navigator.geolocation.watchPosition((position)=>{\r\n        this.setState({oldDirection:this.state.direction})\r\n        if (position.coords.heading == null){\r\n          this.setState({direction:0})\r\n        } else {\r\n          this.setState({direction:position.coords.heading})\r\n        }\r\n        this.setState({lat:position.coords.latitude,long:position.coords.longitude});\r\n        console.log(this.state);\r\n\r\n      })\r\n      window.addEventListener(\"deviceorientation\",(e)=>{\r\n        this.setState({orientation:360-e.alpha})\r\n      })\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n      return (\r\n        <div id=\"compass\">\r\n            <Header/>\r\n                <div id=\"roundBack\">\r\n                  <img style={{transform:\"rotate(\"+this.state.orientation + \"deg)\"}} id=\"aiguille\" src='img\\Aiguille.png' alt=\"aiguille\"/>\r\n                  <img id=\"logoCompass\" src='img\\Boussole.png' alt=\"logo\"/>\r\n                </div>\r\n                <div id=\"buttonBlock\" onClick={this.props.handleEnigma}>\r\n                    <div id=\"greenButton\">\r\n                        <p id=\"buttonTxt\">Prochaine Ã©nigme !</p>\r\n                    </div>\r\n                </div>\r\n                <div id=\"coord\">\r\n                    {this.state.lat} & {this.state.long} & {this.state.direction}\r\n                </div>\r\n                <div id=\"coord\">\r\n                  {this.state.orientation}\r\n                </div>\r\n            <Footer/>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  export default Compass"]},"metadata":{},"sourceType":"module"}